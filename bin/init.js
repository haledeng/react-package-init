'use strict';

var _copyDir = require('copy-dir');

var _copyDir2 = _interopRequireDefault(_copyDir);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _fs = require('fs');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var name = require('minimist')(process.argv.slice(2))._[0];


var cwd = process.cwd();

var init = function init() {
	_copyDir2.default.sync(_path2.default.join(__dirname, '../template'), _path2.default.join(cwd, name));
	renameIgnore();
	genPkgName();
};

var renameIgnore = function renameIgnore() {
	(0, _fs.rename)(_path2.default.join(cwd, name, '.ignore'), _path2.default.join(cwd, name, '.npmignore'));
};

var genPkgName = function genPkgName() {
	var pkg = require('../template/package.json');
	pkg.name = name;
	console.log(pkg);
	// writeFile(path.join(cwd, name, 'package.json'), JSON.stringify(pkg, null, 2), 'utf8');

	var rollup = (0, _fs.readFileSync)('../template/rollup.config.js', 'utf8');
	rollup.replace(/<\%=name\%>/, name);
	(0, _fs.writeFile)(_path2.default.join(cwd, name, 'rollup.config.js'), 'utf8');
};

init();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbml0LmpzIl0sIm5hbWVzIjpbIm5hbWUiLCJyZXF1aXJlIiwicHJvY2VzcyIsImFyZ3YiLCJzbGljZSIsIl8iLCJjd2QiLCJpbml0Iiwic3luYyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyZW5hbWVJZ25vcmUiLCJnZW5Qa2dOYW1lIiwicGtnIiwiY29uc29sZSIsImxvZyIsInJvbGx1cCIsInJlcGxhY2UiXSwibWFwcGluZ3MiOiI7O0FBQ0E7Ozs7QUFFQTs7OztBQUVBOzs7O0FBTEEsSUFBTUEsT0FBT0MsUUFBUSxVQUFSLEVBQW9CQyxRQUFRQyxJQUFSLENBQWFDLEtBQWIsQ0FBbUIsQ0FBbkIsQ0FBcEIsRUFBMkNDLENBQTNDLENBQTZDLENBQTdDLENBQWI7OztBQVdBLElBQUlDLE1BQU1KLFFBQVFJLEdBQVIsRUFBVjs7QUFFQSxJQUFNQyxPQUFPLFNBQVBBLElBQU8sR0FBTTtBQUNsQixtQkFBUUMsSUFBUixDQUFhLGVBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixhQUFyQixDQUFiLEVBQWtELGVBQUtELElBQUwsQ0FBVUgsR0FBVixFQUFlTixJQUFmLENBQWxEO0FBQ0FXO0FBQ0FDO0FBQ0EsQ0FKRDs7QUFPQSxJQUFNRCxlQUFlLFNBQWZBLFlBQWUsR0FBTTtBQUMxQixpQkFBTyxlQUFLRixJQUFMLENBQVVILEdBQVYsRUFBZU4sSUFBZixFQUFxQixTQUFyQixDQUFQLEVBQXdDLGVBQUtTLElBQUwsQ0FBVUgsR0FBVixFQUFlTixJQUFmLEVBQXFCLFlBQXJCLENBQXhDO0FBQ0EsQ0FGRDs7QUFJQSxJQUFNWSxhQUFhLFNBQWJBLFVBQWEsR0FBTTtBQUN4QixLQUFJQyxNQUFNWixRQUFRLDBCQUFSLENBQVY7QUFDQVksS0FBSWIsSUFBSixHQUFXQSxJQUFYO0FBQ0FjLFNBQVFDLEdBQVIsQ0FBWUYsR0FBWjtBQUNBOztBQUVBLEtBQUlHLFNBQVMsc0JBQWEsOEJBQWIsRUFBNkMsTUFBN0MsQ0FBYjtBQUNBQSxRQUFPQyxPQUFQLENBQWUsYUFBZixFQUE4QmpCLElBQTlCO0FBQ0Esb0JBQVUsZUFBS1MsSUFBTCxDQUFVSCxHQUFWLEVBQWVOLElBQWYsRUFBcUIsa0JBQXJCLENBQVYsRUFBb0QsTUFBcEQ7QUFDQSxDQVREOztBQVlBTyIsImZpbGUiOiJpbml0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbmFtZSA9IHJlcXVpcmUoJ21pbmltaXN0JykocHJvY2Vzcy5hcmd2LnNsaWNlKDIpKS5fWzBdO1xyXG5pbXBvcnQgY29weWRpciBmcm9tICdjb3B5LWRpcidcclxuXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuaW1wb3J0IHtcclxuXHRyZW5hbWUsXHJcblx0d3JpdGVGaWxlLFxyXG5cdHJlYWRGaWxlU3luY1xyXG59IGZyb20gJ2ZzJztcclxuXHJcbmxldCBjd2QgPSBwcm9jZXNzLmN3ZCgpO1xyXG5cclxuY29uc3QgaW5pdCA9ICgpID0+IHtcclxuXHRjb3B5ZGlyLnN5bmMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL3RlbXBsYXRlJyksIHBhdGguam9pbihjd2QsIG5hbWUpKTtcclxuXHRyZW5hbWVJZ25vcmUoKTtcclxuXHRnZW5Qa2dOYW1lKCk7XHJcbn07XHJcblxyXG5cclxuY29uc3QgcmVuYW1lSWdub3JlID0gKCkgPT4ge1xyXG5cdHJlbmFtZShwYXRoLmpvaW4oY3dkLCBuYW1lLCAnLmlnbm9yZScpLCBwYXRoLmpvaW4oY3dkLCBuYW1lLCAnLm5wbWlnbm9yZScpKTtcclxufTtcclxuXHJcbmNvbnN0IGdlblBrZ05hbWUgPSAoKSA9PiB7XHJcblx0bGV0IHBrZyA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlL3BhY2thZ2UuanNvbicpO1xyXG5cdHBrZy5uYW1lID0gbmFtZTtcclxuXHRjb25zb2xlLmxvZyhwa2cpO1xyXG5cdC8vIHdyaXRlRmlsZShwYXRoLmpvaW4oY3dkLCBuYW1lLCAncGFja2FnZS5qc29uJyksIEpTT04uc3RyaW5naWZ5KHBrZywgbnVsbCwgMiksICd1dGY4Jyk7XHJcblxyXG5cdGxldCByb2xsdXAgPSByZWFkRmlsZVN5bmMoJy4uL3RlbXBsYXRlL3JvbGx1cC5jb25maWcuanMnLCAndXRmOCcpO1xyXG5cdHJvbGx1cC5yZXBsYWNlKC88XFwlPW5hbWVcXCU+LywgbmFtZSk7XHJcblx0d3JpdGVGaWxlKHBhdGguam9pbihjd2QsIG5hbWUsICdyb2xsdXAuY29uZmlnLmpzJyksICd1dGY4Jyk7XHJcbn07XHJcblxyXG5cclxuaW5pdCgpOyJdfQ==